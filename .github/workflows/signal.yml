name: Sunrise Signal

on:
  schedule:
    # CRON is UTC. Example: 13:00 UTC = 9:00 AM Detroit (EDT).
    - cron: "0 13 * * *"
  workflow_dispatch: {}

jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: "22"

      - name: Install deps
        run: npm install node-fetch@3

      - name: Send Sunrise Signal
        env:
          WEBHOOK_URL: ${{ secrets.WEBHOOK_URL }}
          NEXT_STREAM_ISO: "2025-09-02T13:00:00Z"   # update anytime
          BANNER_URL: "https://cdn.discordapp.com/attachments/1409312492961927339/1410778813993975850/SunRise.gif?ex=68b241a8&is=68b0f028&hm=6d2fe2f048e4d4169caa3b3bb82c7804414ff953bcd122cdd036fada9d3130fd&"
          THUMBNAIL_URL: "https://cdn.discordapp.com/attachments/1409312492961927339/1410776459831672938/Untitled_design_1.gif?ex=68b23f76&is=68b0edf6&hm=1a990cdde5a495a807e7b112f65350b3b2e3212143dfbacfa34063ea5446adb5&"
        run: node send.js
